<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>EkoMax - Safe Ride with Pride</title>
<style>
* { margin:0; padding:0; box-sizing:border-box; font-family: 'Segoe UI', sans-serif; scroll-behavior:smooth; }
body { background:#f0f4f8; color:#333; overflow-x:hidden; }

header { 
    background: linear-gradient(135deg,#1abc9c,#16a085); 
    color:white; 
    text-align:center; 
    padding:80px 20px; 
    position:relative; 
    overflow:hidden;
}
header h1 { font-size:3em; margin-bottom:10px; animation:fadeDown 1s ease; }
header p { font-style:italic; font-size:1.3em; animation:fadeUp 1s ease; }
nav { text-align:center; margin-top:20px; }
nav a { color:white; margin:0 15px; font-weight:bold; text-decoration:none; transition:0.3s; }
nav a:hover { color:#f1c40f; transform:scale(1.1); }

.cycle-icon { 
    position:absolute; 
    font-size:40px; 
    animation:moveCycle 10s linear infinite; 
}
@keyframes moveCycle {
    0% {transform:translateX(-100px) translateY(0) rotate(0deg);}
    50% {transform:translateX(100vw) translateY(20px) rotate(360deg);}
    100% {transform:translateX(-100px) translateY(0) rotate(720deg);}
}

 /* 5D Bicycle container */
        #bicycle3d {
            width: 300px;
            height: 300px;
            margin: 40px auto;
            perspective: 1000px;
            animation: moveForwardRotate 5s linear infinite;
            position: relative;
            z-index: 2;
        }

        #bicycle3d svg {
            width: 100%;
            height: 100%;
            display: block;
            transform-style: preserve-3d;
            transform-origin: center center;
            animation: bicycleDepth 10s infinite alternate;
            filter: drop-shadow(0 5px 5px rgba(0,0,0,0.15));
        }

        @keyframes moveForwardRotate {
            0% {
                transform: translateZ(0) rotateY(0deg) rotateX(5deg);
                filter: drop-shadow(0 5px 5px rgba(0,0,0,0.15));
            }
            50% {
                transform: translateZ(30px) rotateY(180deg) rotateX(0deg);
                filter: drop-shadow(0 10px 10px rgba(0,0,0,0.25));
            }
            100% {
                transform: translateZ(0) rotateY(360deg) rotateX(5deg);
                filter: drop-shadow(0 5px 5px rgba(0,0,0,0.15));
            }
        }

        @keyframes bicycleDepth {
            0% { transform: scale(1) rotate(0deg) translateZ(0); }
            50% { transform: scale(1.1) rotate(45deg) translateZ(80px); }
            100% { transform: scale(1) rotate(360deg) translateZ(0); }
        }

        /* Speed lines container */
        #speedLines {
            position: absolute;
            top: 50%;
            left: 10%;
            width: 120%;
            height: 100%;
            pointer-events: none;
            overflow: visible;
            transform-style: preserve-3d;
        }

        /* Individual speed line */
        .speed-line {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, rgba(26,188,156,0.7), transparent);
            border-radius: 10px;
            opacity: 0.8;
            animation: speedMove 1s linear infinite;
        }

        @keyframes speedMove {
            0% {
                transform: translateX(100%);
                opacity: 0.8;
            }
            100% {
                transform: translateX(-100%);
                opacity: 0;
            }
        }

        /* General container styling */
        .container { max-width:600px; margin:40px auto; background:white; padding:30px; border-radius:15px; box-shadow:0 10px 25px rgba(0,0,0,0.15); animation:fadeIn 0.8s ease; }

        .tabs { display:flex; justify-content:space-around; margin-bottom:20px; cursor:pointer; }
        .tab { padding:10px; border-bottom:3px solid transparent; transition:0.3s; }
        .tab.active { border-bottom:3px solid #1abc9c; font-weight:bold; color:#1abc9c; }

        form { display:flex; flex-direction:column; }
        input, textarea, button { margin:10px 0; padding:12px; border-radius:10px; border:1px solid #ccc; font-size:16px; transition:0.3s; }
        input:focus, textarea:focus { border-color:#1abc9c; box-shadow:0 0 10px rgba(26,188,156,0.4); outline:none; }
        textarea { resize:vertical; min-height:60px; }
        button { background:#1abc9c; color:white; font-weight:bold; border:none; cursor:pointer; }
        button:hover { background:#16a085; transform:scale(1.05); }

        section { padding:80px 20px; max-width:900px; margin:auto; border-radius:15px; animation:fadeInUp 1s ease; margin-bottom:30px; }
        #about { background: linear-gradient(135deg,#f39c12,#f1c40f); color:white; }
        #subscribe { background:#ffffff; }
        #contact { background: linear-gradient(135deg,#3498db,#2980b9); color:white; }

        h2 { text-align:center; margin-bottom:30px; color:#1abc9c; }
        #about h2, #contact h2 { color:white; }

        footer { text-align:center; margin:40px 0 20px; color:#777; }

        @keyframes fadeIn { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }
        @keyframes fadeDown { from {opacity:0; transform:translateY(-20px);} to {opacity:1; transform:translateY(0);} }
        @keyframes fadeUp { from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);} }
        @keyframes fadeInUp { from {opacity:0; transform:translateY(30px);} to {opacity:1; transform:translateY(0);} }

        @media(max-width:600px){ header h1{font-size:2.2em;} .container, section{margin:20px 10px; padding:20px;} }

        /* Forgot Password Modal */
        #forgotModal {
            display: none;  /* Hidden by default */
            position: fixed;
            top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        #forgotModal .modal-content {
            background: white;
            padding: 20px 30px;
            border-radius: 12px;
            width: 90%;
            max-width: 380px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.2);
            text-align: center;
            position: relative;
        }

        #forgotModal .modal-content h3 {
            margin-bottom: 15px;
            color: #1abc9c;
        }

        #forgotModal .modal-content input {
            width: 100%;
            padding: 12px;
            margin-bottom: 15px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 16px;
        }

        #forgotModal .modal-content button {
            background: #1abc9c;
            border: none;
            padding: 12px;
            width: 100%;
            border-radius: 8px;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        #forgotModal .modal-content button:hover {
            background: #16a085;
        }

        #forgotModal .modal-close {
            position: absolute;
            top: 10px; right: 15px;
            font-size: 22px;
            color: #aaa;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        #forgotModal .modal-close:hover {
            color: #1abc9c;
        }
#bicycle3d svg {
  width: 100%;
  height: 100%;
  display: block;
  transform-style: preserve-3d;
  transform-origin: center center;
}

@keyframes rotateBicycle {
  from { transform: rotateY(0deg); }
  to { transform: rotateY(360deg); }
}

.container { max-width:600px; margin:40px auto; background:white; padding:30px; border-radius:15px; box-shadow:0 10px 25px rgba(0,0,0,0.15); animation:fadeIn 0.8s ease; }

.tabs { display:flex; justify-content:space-around; margin-bottom:20px; cursor:pointer; }
.tab { padding:10px; border-bottom:3px solid transparent; transition:0.3s; }
.tab.active { border-bottom:3px solid #1abc9c; font-weight:bold; color:#1abc9c; }

form { display:flex; flex-direction:column; }
input, textarea, button { margin:10px 0; padding:12px; border-radius:10px; border:1px solid #ccc; font-size:16px; transition:0.3s; }
input:focus, textarea:focus { border-color:#1abc9c; box-shadow:0 0 10px rgba(26,188,156,0.4); outline:none; }
textarea { resize:vertical; min-height:60px; }
button { background:#1abc9c; color:white; font-weight:bold; border:none; cursor:pointer; }
button:hover { background:#16a085; transform:scale(1.05); }

section { padding:80px 20px; max-width:900px; margin:auto; border-radius:15px; animation:fadeInUp 1s ease; margin-bottom:30px; }
#about { background: linear-gradient(135deg,#f39c12,#f1c40f); color:white; }
#subscribe { background:#ffffff; }
#contact { background: linear-gradient(135deg,#3498db,#2980b9); color:white; }

h2 { text-align:center; margin-bottom:30px; color:#1abc9c; }
#about h2, #contact h2 { color:white; }

footer { text-align:center; margin:40px 0 20px; color:#777; }

@keyframes fadeIn { from {opacity:0; transform:translateY(10px);} to {opacity:1; transform:translateY(0);} }
@keyframes fadeDown { from {opacity:0; transform:translateY(-20px);} to {opacity:1; transform:translateY(0);} }
@keyframes fadeUp { from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);} }
@keyframes fadeInUp { from {opacity:0; transform:translateY(30px);} to {opacity:1; transform:translateY(0);} }

@media(max-width:600px){ header h1{font-size:2.2em;} .container, section{margin:20px 10px; padding:20px;} }

/* Forgot Password Modal */
#forgotModal {
  display: none;  /* Hidden by default */
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: rgba(0, 0, 0, 0.6);
  z-index: 1000;
  display: flex;
  align-items: center;
  justify-content: center;
}

#forgotModal .modal-content {
  background: white;
  padding: 20px 30px;
  border-radius: 12px;
  width: 90%;
  max-width: 380px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.2);
  text-align: center;
  position: relative;
}

#forgotModal .modal-content h3 {
  margin-bottom: 15px;
  color: #1abc9c;
}

#forgotModal .modal-content input {
  width: 100%;
  padding: 12px;
  margin-bottom: 15px;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 16px;
}

#forgotModal .modal-content button {
  background: #1abc9c;
  border: none;
  padding: 12px;
  width: 100%;
  border-radius: 8px;
  color: white;
  font-weight: bold;
  cursor: pointer;
  transition: background 0.3s ease;
}

#forgotModal .modal-content button:hover {
  background: #16a085;
}

#forgotModal .modal-close {
  position: absolute;
  top: 10px; right: 15px;
  font-size: 22px;
  color: #aaa;
  cursor: pointer;
  transition: color 0.3s ease;
}

#forgotModal .modal-close:hover {
  color: #1abc9c;
}
</style>
</head>
<body>

<header id="home">
    <h1>EkoMax</h1>
    <p>Safe Ride with Pride</p>
    <nav>
        <a href="#about">About Us</a>
        <a href="#subscribe">Subscribe</a>
        <a href="#contact">Contact Us</a>
    </nav>
    <div class="cycle-icon" style="top:50px; left:-50px;">ðŸš²</div>
    <div class="cycle-icon" style="top:120px; left:-100px;">ðŸš²</div>
    <div class="cycle-icon" style="top:200px; left:-200px;">ðŸš²</div>
</header>

<!-- Add this after your #bicycle3d div -->
<div id="bicycle3d" aria-label="3D rotating bicycle animation" role="img" tabindex="0">
  <svg viewBox="0 0 200 150" xmlns="http://www.w3.org/2000/svg" >
    <!-- Wheels -->
    <circle cx="50" cy="110" r="30" stroke="#1abc9c" stroke-width="5" fill="none"/>
    <circle cx="150" cy="110" r="30" stroke="#1abc9c" stroke-width="5" fill="none"/>
    <!-- Frame -->
    <line x1="50" y1="110" x2="90" y2="50" stroke="#16a085" stroke-width="5" />
    <line x1="150" y1="110" x2="90" y2="50" stroke="#16a085" stroke-width="5" />
    <line x1="90" y1="50" x2="120" y2="80" stroke="#16a085" stroke-width="5" />
    <line x1="120" y1="80" x2="150" y2="110" stroke="#16a085" stroke-width="5" />
    <!-- Handlebars -->
    <line x1="120" y1="80" x2="130" y2="40" stroke="#16a085" stroke-width="5" />
    <line x1="130" y1="40" x2="140" y2="50" stroke="#16a085" stroke-width="5" />
    <!-- Seat -->
    <line x1="90" y1="50" x2="80" y2="30" stroke="#16a085" stroke-width="5" />
    <rect x="75" y="20" width="15" height="10" fill="#16a085" rx="3" ry="3"/>
  </svg>
  <!-- Speed Lines -->
  <div id="speedLines">
    <div class="speed-line" style="top:30%; width:80px; animation-delay: 0s;"></div>
    <div class="speed-line" style="top:50%; width:100px; animation-delay: 0.3s;"></div>
    <div class="speed-line" style="top:70%; width:60px; animation-delay: 0.6s;"></div>
  </div>
</div>

<section id="about">
    <h2>About Us</h2>
    <p>
        EkoMax is dedicated to providing students a safe, affordable, and eco-friendly way to commute within campus.  
        We offer cycles on a subscription basis for just â‚¹12. Ride with pride, save the environment, and enjoy a healthy lifestyle!
    </p>
</section>

<section id="subscribe">
    <div class="container">
        <div class="tabs">
            <div class="tab active" onclick="showForm('login')">Login</div>
            <div class="tab" onclick="showForm('signup')">Sign Up</div>
        </div>

        <div id="loginForm">
            <form onsubmit="login(event)">
                <input type="email" id="loginEmail" placeholder="Email" required>
                <input type="password" id="loginPassword" placeholder="Password" required>
                <button type="submit">Login</button>
            </form>
            <p style="text-align:right; margin-top:-5px;">
                <a href="#" onclick="forgotPassword()" style="font-size: 0.9em; color:#1abc9c; text-decoration:underline;">Forgot Password?</a>
            </p>
        </div>

        <div id="signupForm" style="display:none;">
            <form onsubmit="signup(event)">
                <input type="text" id="signupName" placeholder="Full Name" required>
                <input type="email" id="signupEmail" placeholder="Email" required>
                <input type="password" id="signupPassword" placeholder="Password" required>
                <input type="password" id="signupConfirm" placeholder="Confirm Password" required>
                <button type="submit">Sign Up</button>
            </form>
        </div>

        <div id="subscriptionForm" style="display:none;">
            <form id="whatsappForm" onsubmit="subscribeWhatsApp(event)">
                <input type="text" id="subName" placeholder="Name" required>
                <input type="text" id="subDept" placeholder="Department" required>
                <input type="text" id="subAddress" placeholder="Address" required>
                <input type="text" id="subMobile" placeholder="Mobile Number" required>
                <textarea id="subIssues" placeholder="Issues faced before taking cycle"></textarea>
                <textarea id="subSuggestion" placeholder="Any suggestions"></textarea>
                <button type="submit">Subscribe â‚¹12 via WhatsApp</button>
            </form>
        </div>
    </div>
</section>

<section id="contact">
    <h2>Contact Us</h2>
    <p>Have questions or suggestions? Get in touch with us!</p>
    <div class="container">
        <form id="contactForm" onsubmit="contactSubmit(event)">
            <input type="text" id="contactName" placeholder="Your Name" required>
            <input type="email" id="contactEmail" placeholder="Your Email" required>
            <textarea id="contactMessage" placeholder="Your Message" required></textarea>
            <button type="submit">Send Message</button>
        </form>
    </div>
</section>

<footer>
    &copy; 2025 EkoMax. All rights reserved.
</footer>

<!-- Forgot Password Modal -->
<div id="forgotModal" aria-hidden="true">
  <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="forgotTitle">
    <span class="modal-close" onclick="closeForgot()">Ã—</span>
    <h3 id="forgotTitle">Forgot Password</h3>
    <input type="email" id="forgotEmail" placeholder="Enter your registered email" required />
    <button onclick="sendForgotPassword()">Send Password</button>
  </div>
</div>

<!-- ===== EmailJS CDN ===== -->
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
<script>
(function(){
   emailjs.init("OCK8Ae8rQwaws_hqk"); // Your EmailJS Public Key
})();

const whatsappNumber = "917447842760";
const USERS_KEY = "cycleBoysUsers";

function showForm(form){
    document.getElementById('loginForm').style.display = form==='login' ? 'block' : 'none';
    document.getElementById('signupForm').style.display = form==='signup' ? 'block' : 'none';
    document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
    if(form==='login') document.querySelector('.tab:nth-child(1)').classList.add('active');
    else document.querySelector('.tab:nth-child(2)').classList.add('active');
}

function signup(e){
    e.preventDefault();
    const name = document.getElementById('signupName').value;
    const email = document.getElementById('signupEmail').value;
    const password = document.getElementById('signupPassword').value;
    const confirm = document.getElementById('signupConfirm').value;

    if(password !== confirm){ alert("Passwords do not match!"); return; }

    let users = JSON.parse(localStorage.getItem(USERS_KEY) || "[]");
    if(users.find(u => u.email === email)){ alert("Email already registered!"); showForm('login'); return; }

    users.push({name,email,password});
    localStorage.setItem(USERS_KEY, JSON.stringify(users));

    emailjs.send("service_erj1sub","template_ubqrlgf",{
        name: name,
        email: email,
        message: `New user signed up with email: ${email}`
    });

    alert("Sign up successful! You can now login.");
    showForm('login');
}

function login(e){
    e.preventDefault();
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    let users = JSON.parse(localStorage.getItem(USERS_KEY) || "[]");
    const user = users.find(u => u.email===email && u.password===password);
    if(user){
        alert(`Welcome ${user.name}!`);
        showSubscription();
        emailjs.send("service_erj1sub","template_ubqrlgf",{
            name: user.name,
            email: user.email,
            message: `User ${user.name} has logged in.`
        });
    } else {
        alert("Wrong email or password!");
    }
}



// Forgot password modal controls
function forgotPassword(){
    document.getElementById('forgotModal').style.display = 'flex';
    document.getElementById('forgotEmail').value = '';
    document.getElementById('forgotEmail').focus();
}

function closeForgot(){
    document.getElementById('forgotModal').style.display = 'none';
}

function sendForgotPassword(){
    const email = document.getElementById('forgotEmail').value.trim();
    if(!email){
        alert("Please enter your email.");
        return;
    }
    let users = JSON.parse(localStorage.getItem(USERS_KEY) || "[]");
    let user = users.find(u => u.email === email);
    if(user){
        alert(`Your password is: ${user.password}`);
        closeForgot();
    } else {
        alert("Email not found.");
    }
}





function showSubscription(){
    document.getElementById('loginForm').style.display='none';
    document.getElementById('signupForm').style.display='none';
    document.getElementById('subscriptionForm').style.display='block';
}

function subscribeWhatsApp(e){
    e.preventDefault();
    let name = document.getElementById('subName').value;
    let dept = document.getElementById('subDept').value;
    let address = document.getElementById('subAddress').value;
    let mobile = document.getElementById('subMobile').value;
    let issues = document.getElementById('subIssues').value || "None";
    let suggestion = document.getElementById('subSuggestion').value || "None";

    let message = `New Cycle Subscription:\nName: ${name}\nDepartment: ${dept}\nAddress: ${address}\nMobile: ${mobile}\nIssues: ${issues}\nSuggestions: ${suggestion}`;
    let url = `https://wa.me/${whatsappNumber}?text=${encodeURIComponent(message)}`;
    window.open(url, "_blank");
}

function contactSubmit(e){
    e.preventDefault();
    const name = document.getElementById('contactName').value;
    const email = document.getElementById('contactEmail').value;
    const message = document.getElementById('contactMessage').value;

emailjs.send("service_erj1sub","template_fvmwawq",{

        name: name,
        email: email,
        message: message
    }).then(() => {
        alert("Message sent successfully!");
        document.getElementById('contactForm').reset();
    }, err => {
        alert("Failed to send message, please try later.");
        console.error(err);
    });
}

window.addEventListener('load', () => {
  document.getElementById('forgotModal').style.display = 'none';
});

</script>

</body>
</html>
